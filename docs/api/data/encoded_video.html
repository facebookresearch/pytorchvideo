


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pytorchvideo.data.encoded_video_dataset &mdash; PyTorchVideo  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  
  
  
    <link rel="canonical" href="https://pytorchvideo.org/docs/api/data/encoded_video.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" /> -->
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="pytorchvideo.data.charades" href="charades.html" />
    <link rel="prev" title="Data API" href="index.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="../../_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../../_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../../_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../../_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../../_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../../_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://pytorchvideo.org" aria-label="PyTorch"></a>

      <div class="main-menu">
        <ul>
          <li>
            <a href="https://pytorchvideo.org">Home</a>
          </li>
          <li>
            <a href="https://pytorchvideo.org/docs/tutorial_overview">Tutorials</a>
          </li>
          <li>
            <a href="https://github.com/facebookresearch/pytorchvideo/">Github</a>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>
  </div>
</div>


<body class="pytorch-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            

            
              
              
            

            


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

            
          </div>

          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Models</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../docs/models.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/model_zoo.html">Model Zoo and Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/index.html">Models API</a></li>
</ul>
<p class="caption"><span class="caption-text">Data</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../docs/data.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/data_preparation.html">Data Preparation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Data API</a></li>
</ul>
<p class="caption"><span class="caption-text">Transforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../docs/transforms.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../transforms/index.html">Transforms API</a></li>
</ul>
<p class="caption"><span class="caption-text">Layers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../docs/layers.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layers/index.html">Layers API</a></li>
</ul>
<p class="caption"><span class="caption-text">Accelerator</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../docs/accelerator.html">Overview</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="../../index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
          <li><a href="index.html">Data API</a> &gt;</li>
        
      <li>pytorchvideo.data.encoded_video_dataset</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="../../_sources/api/data/encoded_video.rst.txt" rel="nofollow"><img src="../../_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">

        
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
              
  <div class="section" id="pytorchvideo-data-encoded-video-dataset">
<h1>pytorchvideo.data.encoded_video_dataset<a class="headerlink" href="#pytorchvideo-data-encoded-video-dataset" title="Permalink to this headline">¶</a></h1>
<p>Dataset loaders and supporting classes for encode video datasets (Ex: Kinetics, HmDB51, UCF101, etc)</p>
<span class="target" id="module-pytorchvideo.data.encoded_video_dataset"></span><dl class="py class">
<dt id="pytorchvideo.data.encoded_video_dataset.EncodedVideoDataset">
<em class="property">class </em><code class="sig-prename descclassname">pytorchvideo.data.encoded_video_dataset.</code><code class="sig-name descname">EncodedVideoDataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video_dataset.html#EncodedVideoDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video_dataset.EncodedVideoDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>EncodedVideoDataset handles the storage, loading, decoding and clip sampling for a
video dataset. It assumes each video is stored as an encoded video (e.g. mp4, avi).</p>
<dl class="py method">
<dt id="pytorchvideo.data.encoded_video_dataset.EncodedVideoDataset.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">labeled_video_paths</em>, <em class="sig-param">clip_sampler</em>, <em class="sig-param">video_sampler=&lt;class 'torch.utils.data.sampler.RandomSampler'&gt;</em>, <em class="sig-param">transform=None</em>, <em class="sig-param">decode_audio=True</em>, <em class="sig-param">decoder='pyav'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video_dataset.html#EncodedVideoDataset.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video_dataset.EncodedVideoDataset.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>List</strong><strong>[</strong><strong>Tuple</strong><strong>[</strong><strong>str</strong> (<em>labeled_video_paths</em>) – List containing
video file paths and associated labels</p></li>
<li><p><strong>Optional</strong><strong>[</strong><strong>dict</strong><strong>]</strong><strong>]</strong><strong>]</strong><strong>]</strong><strong>)</strong> – List containing
video file paths and associated labels</p></li>
<li><p><strong>clip_sampler</strong> (<a class="reference internal" href="extra.html#pytorchvideo.data.clip_sampling.ClipSampler" title="pytorchvideo.data.clip_sampling.ClipSampler"><em>ClipSampler</em></a>) – Defines how clips should be sampled from each
video. See the clip sampling documentation for more information.</p></li>
<li><p><strong>video_sampler</strong> (<em>Type</em><em>[</em><a class="reference external" href="https://pytorch.org/docs/master/data.html#torch.utils.data.Sampler" title="(in PyTorch vmaster (1.9.0a0+git12d5971 ))"><em>torch.utils.data.Sampler</em></a><em>]</em>) – Sampler for the internal
video container. This defines the order videos are decoded and,
if necessary, the distributed split.</p></li>
<li><p><strong>transform</strong> (<em>Callable</em>) – <p>This callable is evaluated on the clip output before
the clip is returned. It can be used for user defined preprocessing and
augmentations to the clips. The clip output is a dictionary with the
following format:</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><p>‘video’: &lt;video_tensor&gt;
‘label’: &lt;index_label&gt;
‘video_index’: &lt;video_index&gt;
‘clip_index’: &lt;clip_index&gt;
‘aug_index’: &lt;aug_index&gt;, augmentation index as augmentations</p>
<blockquote>
<div><p>might generate multiple views for one clip.</p>
</div></blockquote>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>If transform is None, the raw clip output in the above format is
returned unmodified.</p>
</p></li>
<li><p><strong>decoder</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Defines what type of decoder used to decode a video.</p></li>
<li><p><strong>labeled_video_paths</strong> (<em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>]</em><em>]</em><em>]</em>) – </p></li>
<li><p><strong>decode_audio</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.6/library/constants.html#None" title="(in Python v3.6)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytorchvideo.data.encoded_video_dataset.EncodedVideoDataset.__next__">
<code class="sig-name descname">__next__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video_dataset.html#EncodedVideoDataset.__next__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video_dataset.EncodedVideoDataset.__next__" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the next clip based on the clip sampling strategy and video sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><em>A video clip with the following format if transform is None</em> –</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><p>‘video’: &lt;video_tensor&gt;,
‘label’: &lt;index_label&gt;,
‘video_index’: &lt;video_index&gt;
‘clip_index’: &lt;clip_index&gt;
‘aug_index’: &lt;aug_index&gt;, augmentation index as augmentations</p>
<blockquote>
<div><p>might generate multiple views for one clip.</p>
</div></blockquote>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>Otherwise, the transform defines the clip output.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pytorchvideo.data.encoded_video_dataset.labeled_encoded_video_dataset">
<code class="sig-prename descclassname">pytorchvideo.data.encoded_video_dataset.</code><code class="sig-name descname">labeled_encoded_video_dataset</code><span class="sig-paren">(</span><em class="sig-param">data_path</em>, <em class="sig-param">clip_sampler</em>, <em class="sig-param">video_sampler=&lt;class 'torch.utils.data.sampler.RandomSampler'&gt;</em>, <em class="sig-param">transform=None</em>, <em class="sig-param">video_path_prefix=''</em>, <em class="sig-param">decode_audio=True</em>, <em class="sig-param">decoder='pyav'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video_dataset.html#labeled_encoded_video_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video_dataset.labeled_encoded_video_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>A helper function to create EncodedVideoDataset object for Ucf101 and Kinectis datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_path</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/pathlib.html#pathlib.Path" title="(in Python v3.6)"><em>pathlib.Path</em></a>) – Path to the data. The path type defines how the</p></li>
<li><p><strong>should be read</strong> (<em>data</em>) – <ul>
<li><dl class="simple">
<dt>For a file path, the file is read and each line is parsed into a</dt><dd><p>video path and label.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>For a directory, the directory structure defines the classes</dt><dd><p>(i.e. each subdirectory is a class).</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>the LabeledVideoPaths class documentation for specific formatting</strong> (<em>See</em>) – </p></li>
<li><p><strong>and examples.</strong> (<em>details</em>) – </p></li>
<li><p><strong>clip_sampler</strong> (<a class="reference internal" href="extra.html#pytorchvideo.data.clip_sampling.ClipSampler" title="pytorchvideo.data.clip_sampling.ClipSampler"><em>ClipSampler</em></a>) – Defines how clips should be sampled from each
video. See the clip sampling documentation for more information.</p></li>
<li><p><strong>video_sampler</strong> (<em>Type</em><em>[</em><a class="reference external" href="https://pytorch.org/docs/master/data.html#torch.utils.data.Sampler" title="(in PyTorch vmaster (1.9.0a0+git12d5971 ))"><em>torch.utils.data.Sampler</em></a><em>]</em>) – Sampler for the internal
video container. This defines the order videos are decoded and,
if necessary, the distributed split.</p></li>
<li><p><strong>transform</strong> (<em>Callable</em>) – <p>This callable is evaluated on the clip output before
the clip is returned. It can be used for user defined preprocessing and
augmentations to the clips. The clip output is a dictionary with the
following format:</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><p>‘video’: &lt;video_tensor&gt;,
‘label’: &lt;index_label&gt;,
‘video_index’: &lt;video_index&gt;
‘clip_index’: &lt;clip_index&gt;
‘aug_index’: &lt;aug_index&gt;, augmentation index as augmentations</p>
<blockquote>
<div><p>might generate multiple views for one clip.</p>
</div></blockquote>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>If transform is None, the raw clip output in the above format is
returned unmodified.</p>
</p></li>
<li><p><strong>video_path_prefix</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to root directory with the videos that are
loaded in EncodedVideoDataset. All the video paths before loading
are prefixed with this path.</p></li>
<li><p><strong>decoder</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Defines what type of decoder used to decode a video.</p></li>
<li><p><strong>decode_audio</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#pytorchvideo.data.encoded_video_dataset.EncodedVideoDataset" title="pytorchvideo.data.encoded_video_dataset.EncodedVideoDataset">EncodedVideoDataset</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="pytorchvideo-data-encoded-video-pyav">
<h1>pytorchvideo.data.encoded_video_pyav<a class="headerlink" href="#pytorchvideo-data-encoded-video-pyav" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-pytorchvideo.data.encoded_video_pyav"></span><dl class="py class">
<dt id="pytorchvideo.data.encoded_video_pyav.EncodedVideoPyAV">
<em class="property">class </em><code class="sig-prename descclassname">pytorchvideo.data.encoded_video_pyav.</code><code class="sig-name descname">EncodedVideoPyAV</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">video_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">decode_audio</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video_pyav.html#EncodedVideoPyAV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video_pyav.EncodedVideoPyAV" title="Permalink to this definition">¶</a></dt>
<dd><p>EncodedVideoPyAV is an abstraction for accessing clips from an encoded video using
PyAV as the decoding backend. It supports selective decoding when header information
is available.</p>
<dl class="py method">
<dt id="pytorchvideo.data.encoded_video_pyav.EncodedVideoPyAV.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">video_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">decode_audio</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video_pyav.html#EncodedVideoPyAV.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video_pyav.EncodedVideoPyAV.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>BinaryIO</em>) – a file-like object (e.g. io.BytesIO or io.StringIO) that
contains the encoded video.</p></li>
<li><p><strong>video_name</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – </p></li>
<li><p><strong>decode_audio</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.6/library/constants.html#None" title="(in Python v3.6)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytorchvideo.data.encoded_video_pyav.EncodedVideoPyAV.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#pytorchvideo.data.encoded_video_pyav.EncodedVideoPyAV.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
name: the name of the stored video if set.</p>
</dd></dl>

<dl class="py method">
<dt id="pytorchvideo.data.encoded_video_pyav.EncodedVideoPyAV.duration">
<em class="property">property </em><code class="sig-name descname">duration</code><a class="headerlink" href="#pytorchvideo.data.encoded_video_pyav.EncodedVideoPyAV.duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
duration: the video’s duration/end-time in seconds.</p>
</dd></dl>

<dl class="py method">
<dt id="pytorchvideo.data.encoded_video_pyav.EncodedVideoPyAV.get_clip">
<code class="sig-name descname">get_clip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_sec</span></em>, <em class="sig-param"><span class="n">end_sec</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video_pyav.html#EncodedVideoPyAV.get_clip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video_pyav.EncodedVideoPyAV.get_clip" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves frames from the encoded video at the specified start and end times
in seconds (the video always starts at 0 seconds).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_sec</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – the clip start time in seconds</p></li>
<li><p><strong>end_sec</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – the clip end time in seconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><em>clip_data</em> –     A dictionary mapping the entries at “video” and “audio” to a tensors.</p>
<blockquote>
<div><p>”video”: A tensor of the clip’s RGB frames with shape:
(channel, time, height, width). The frames are of type torch.float32 and
in the range [0 - 255].</p>
<p>”audio”: A tensor of the clip’s audio samples with shape:
(samples). The samples are of type torch.float32 and
in the range [0 - 255].</p>
</div></blockquote>
<p>Returns None if no video or audio found within time range.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)">str</a>, Optional[<a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.9.0a0+git12d5971 ))">torch.Tensor</a>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytorchvideo.data.encoded_video_pyav.EncodedVideoPyAV.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video_pyav.html#EncodedVideoPyAV.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video_pyav.EncodedVideoPyAV.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the internal video container.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pytorchvideo-data-encoded-video-torchvision">
<h1>pytorchvideo.data.encoded_video_torchvision<a class="headerlink" href="#pytorchvideo-data-encoded-video-torchvision" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-pytorchvideo.data.encoded_video_torchvision"></span><dl class="py class">
<dt id="pytorchvideo.data.encoded_video_torchvision.EncodedVideoTorchVision">
<em class="property">class </em><code class="sig-prename descclassname">pytorchvideo.data.encoded_video_torchvision.</code><code class="sig-name descname">EncodedVideoTorchVision</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">video_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">decode_audio</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video_torchvision.html#EncodedVideoTorchVision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video_torchvision.EncodedVideoTorchVision" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessing clips from an encoded video using Torchvision video reading API
(torch.ops.video_reader.read_video_from_memory) as the decoding backend.</p>
<dl class="py method">
<dt id="pytorchvideo.data.encoded_video_torchvision.EncodedVideoTorchVision.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#pytorchvideo.data.encoded_video_torchvision.EncodedVideoTorchVision.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
name: the name of the stored video if set.</p>
</dd></dl>

<dl class="py method">
<dt id="pytorchvideo.data.encoded_video_torchvision.EncodedVideoTorchVision.duration">
<em class="property">property </em><code class="sig-name descname">duration</code><a class="headerlink" href="#pytorchvideo.data.encoded_video_torchvision.EncodedVideoTorchVision.duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
duration: the video’s duration/end-time in seconds.</p>
</dd></dl>

<dl class="py method">
<dt id="pytorchvideo.data.encoded_video_torchvision.EncodedVideoTorchVision.get_clip">
<code class="sig-name descname">get_clip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_sec</span></em>, <em class="sig-param"><span class="n">end_sec</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video_torchvision.html#EncodedVideoTorchVision.get_clip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video_torchvision.EncodedVideoTorchVision.get_clip" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves frames from the encoded video at the specified start and end times
in seconds (the video always starts at 0 seconds).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_sec</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – the clip start time in seconds</p></li>
<li><p><strong>end_sec</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – the clip end time in seconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><em>clip_data</em> –     A dictionary mapping the entries at “video” and “audio” to a tensors.</p>
<blockquote>
<div><p>”video”: A tensor of the clip’s RGB frames with shape:
(channel, time, height, width). The frames are of type torch.float32 and
in the range [0 - 255].</p>
<p>”audio”: A tensor of the clip’s audio samples with shape:
(samples). The samples are of type torch.float32 and
in the range [0 - 255].</p>
</div></blockquote>
<p>Returns None if no video or audio found within time range.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)">str</a>, Optional[<a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.9.0a0+git12d5971 ))">torch.Tensor</a>]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pytorchvideo-data-encoded-video">
<h1>pytorchvideo.data.encoded_video<a class="headerlink" href="#pytorchvideo-data-encoded-video" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-pytorchvideo.data.encoded_video"></span><dl class="py function">
<dt id="pytorchvideo.data.encoded_video.select_video_class">
<code class="sig-prename descclassname">pytorchvideo.data.encoded_video.</code><code class="sig-name descname">select_video_class</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">decoder</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video.html#select_video_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video.select_video_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the class for accessing clips based on provided decoder string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>decoder</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Defines what type of decoder used to decode a video.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="extra.html#pytorchvideo.data.video.Video" title="pytorchvideo.data.video.Video">pytorchvideo.data.video.Video</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="pytorchvideo.data.encoded_video.EncodedVideo">
<em class="property">class </em><code class="sig-prename descclassname">pytorchvideo.data.encoded_video.</code><code class="sig-name descname">EncodedVideo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">video_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">decode_audio</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">decoder</span><span class="o">=</span><span class="default_value">'pyav'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video.html#EncodedVideo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video.EncodedVideo" title="Permalink to this definition">¶</a></dt>
<dd><p>EncodedVideo is an abstraction for accessing clips from an encoded video.
It supports selective decoding when header information is available.</p>
<dl class="py method">
<dt id="pytorchvideo.data.encoded_video.EncodedVideo.from_path">
<em class="property">classmethod </em><code class="sig-name descname">from_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span></em>, <em class="sig-param"><span class="n">decode_audio</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">decoder</span><span class="o">=</span><span class="default_value">'pyav'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video.html#EncodedVideo.from_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video.EncodedVideo.from_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the given video path using PathManager (allowing remote uris to be
fetched) and constructs the EncodedVideo object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – a PathManager file-path.</p></li>
<li><p><strong>decode_audio</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – </p></li>
<li><p><strong>decoder</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytorchvideo.data.encoded_video.EncodedVideo.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">video_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">decode_audio</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">decoder</span><span class="o">=</span><span class="default_value">'pyav'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video.html#EncodedVideo.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video.EncodedVideo.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>BinaryIO</em>) – a file-like object (e.g. io.BytesIO or io.StringIO) that
contains the encoded video.</p></li>
<li><p><strong>decoder</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Defines what type of decoder used to decode a video.</p></li>
<li><p><strong>video_name</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – </p></li>
<li><p><strong>decode_audio</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.6/library/constants.html#None" title="(in Python v3.6)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytorchvideo.data.encoded_video.EncodedVideo.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#pytorchvideo.data.encoded_video.EncodedVideo.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
name: the name of the stored video if set.</p>
</dd></dl>

<dl class="py method">
<dt id="pytorchvideo.data.encoded_video.EncodedVideo.duration">
<em class="property">property </em><code class="sig-name descname">duration</code><a class="headerlink" href="#pytorchvideo.data.encoded_video.EncodedVideo.duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
duration: the video’s duration/end-time in seconds.</p>
</dd></dl>

<dl class="py method">
<dt id="pytorchvideo.data.encoded_video.EncodedVideo.get_clip">
<code class="sig-name descname">get_clip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_sec</span></em>, <em class="sig-param"><span class="n">end_sec</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video.html#EncodedVideo.get_clip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video.EncodedVideo.get_clip" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves frames from the encoded video at the specified start and end times
in seconds (the video always starts at 0 seconds).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_sec</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – the clip start time in seconds</p></li>
<li><p><strong>end_sec</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – the clip end time in seconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><em>clip_data</em> –     A dictionary mapping the entries at “video” and “audio” to a tensors.</p>
<blockquote>
<div><p>”video”: A tensor of the clip’s RGB frames with shape:
(channel, time, height, width). The frames are of type torch.float32 and
in the range [0 - 255].</p>
<p>”audio”: A tensor of the clip’s audio samples with shape:
(samples). The samples are of type torch.float32 and
in the range [0 - 255].</p>
</div></blockquote>
<p>Returns None if no video or audio found within time range.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)">str</a>, Optional[<a class="reference external" href="https://pytorch.org/docs/master/tensors.html#torch.Tensor" title="(in PyTorch vmaster (1.9.0a0+git12d5971 ))">torch.Tensor</a>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytorchvideo.data.encoded_video.EncodedVideo.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pytorchvideo/data/encoded_video.html#EncodedVideo.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytorchvideo.data.encoded_video.EncodedVideo.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the internal video container.</p>
</dd></dl>

</dd></dl>

</div>


             </article>
             
            </div>
            <!-- <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="charades.html" class="btn btn-neutral float-right" title="pytorchvideo.data.charades" accesskey="n" rel="next">Next <img src="../../_static/images/chevron-right-orange.svg" class="next-page"></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Data API" accesskey="p" rel="prev"><img src="../../_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
      
    </div>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, PyTorchVideo contributors.

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>
 -->
          </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">pytorchvideo.data.encoded_video_dataset</a></li>
<li><a class="reference internal" href="#pytorchvideo-data-encoded-video-pyav">pytorchvideo.data.encoded_video_pyav</a></li>
<li><a class="reference internal" href="#pytorchvideo-data-encoded-video-torchvision">pytorchvideo.data.encoded_video_torchvision</a></li>
<li><a class="reference internal" href="#pytorchvideo-data-encoded-video">pytorchvideo.data.encoded_video</a></li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
         <script src="../../_static/jquery.js"></script>
         <script src="../../_static/underscore.js"></script>
         <script src="../../_static/doctools.js"></script>
         <script src="../../_static/language_data.js"></script>
     

  

  <script type="text/javascript" src="../../_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="../../_static/js/vendor/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

  <!-- Begin Footer -->


  <div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. As the current maintainers of this site, Facebook’s Cookies Policy applies. Learn more, including about available controls: <a href="https://www.facebook.com/policies/cookies/">Cookies Policy</a>.</p>
    <img class="close-button" src="../../_static/images/pytorch-x.svg">
  </div>
</div>

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://pytorchvideo.org" aria-label="PyTorch"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://pytorchvideo.org">Home</a>
          </li>
          <li>
            <a href="https://pytorchvideo.org/docs/tutorial_overview">Tutorials</a>
          </li>
          <li>
            <a href="https://github.com/facebookresearch/pytorchvideo/">Github</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- End Mobile Menu -->

  <script type="text/javascript" src="../../_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>